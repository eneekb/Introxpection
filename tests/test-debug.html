<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Debug - Introxpection</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/quiz.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="quiz-header">
        <div class="container">
            <button class="back-btn" onclick="goHome()">‚Üê Accueil</button>
            <h1 class="quiz-title">Test Debug</h1>
            <p class="quiz-subtitle">Version simple pour tester</p>
        </div>
    </header>

    <div class="progress-container">
        <div class="container">
            <div class="progress-info">
                <span>Question <span class="current-question">1</span> sur <span class="total-questions">3</span></span>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" style="width: 0%"></div>
            </div>
        </div>
    </div>

    <main class="quiz-container">
        <div class="quiz-content" id="quiz-content">
            <div class="question-container">
                <div class="question-number">Question 1/3</div>
                <h2 class="question-text">Test simple - √ßa marche ?</h2>
            </div>
            
            <div class="answers-container">
                <div class="answer-option" onclick="selectAnswer(0)">
                    <span class="answer-letter">A</span>
                    <span class="answer-text">Oui √ßa marche</span>
                </div>
                <div class="answer-option" onclick="selectAnswer(1)">
                    <span class="answer-letter">B</span>
                    <span class="answer-text">Non √ßa ne marche pas</span>
                </div>
            </div>
            
            <div class="navigation-container">
                <div class="auto-advance-hint">
                    üí° Test du syst√®me de base
                </div>
            </div>
        </div>
    </main>

    <script>
        let currentQuestion = 0;
        let answers = [];
        
        const questions = [
            {
                text: "Test simple - √ßa marche ?",
                answers: ["Oui √ßa marche", "Non √ßa ne marche pas"]
            },
            {
                text: "Le bouton accueil fonctionne ?",
                answers: ["Oui il fonctionne", "Non il ne fonctionne pas"]
            },
            {
                text: "Les animations sont fluides ?",
                answers: ["Oui c'est fluide", "Non c'est cass√©"]
            }
        ];
        
        function goHome() {
            console.log("Retour accueil cliqu√©");
            if (confirm('Veux-tu vraiment quitter ce test ?')) {
                window.location.href = '../index.html';
            }
        }
        
        function selectAnswer(index) {
            console.log("R√©ponse s√©lectionn√©e:", index);
            
            // Marquer comme s√©lectionn√©
            const options = document.querySelectorAll('.answer-option');
            options.forEach(opt => opt.classList.remove('selected'));
            options[index].classList.add('selected');
            
            answers[currentQuestion] = index;
            
            // Passer √† la question suivante apr√®s 1 seconde
            setTimeout(() => {
                nextQuestion();
            }, 1000);
        }
        
        function nextQuestion() {
            currentQuestion++;
            
            if (currentQuestion >= questions.length) {
                showResult();
                return;
            }
            
            // Mettre √† jour l'affichage
            const questionNum = document.querySelector('.question-number');
            const questionText = document.querySelector('.question-text');
            const currentSpan = document.querySelector('.current-question');
            const progressBar = document.querySelector('.progress-bar');
            
            questionNum.textContent = `Question ${currentQuestion + 1}/3`;
            questionText.textContent = questions[currentQuestion].text;
            currentSpan.textContent = currentQuestion + 1;
            
            // Progress bar
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            progressBar.style.width = progress + '%';
            
            // Mettre √† jour les r√©ponses
            const answerOptions = document.querySelectorAll('.answer-option');
            answerOptions.forEach((option, i) => {
                option.classList.remove('selected');
                if (questions[currentQuestion].answers[i]) {
                    option.style.display = 'flex';
                    option.querySelector('.answer-letter').textContent = String.fromCharCode(65 + i);
                    option.querySelector('.answer-text').textContent = questions[currentQuestion].answers[i];
                    option.onclick = () => selectAnswer(i);
                } else {
                    option.style.display = 'none';
                }
            });
        }
        
        function showResult() {
            const content = document.getElementById('quiz-content');
            content.innerHTML = `
                <div class="results-container">
                    <div class="result-icon">üéâ</div>
                    <h2 class="result-title">Test termin√© !</h2>
                    <p class="result-subtitle">Le syst√®me de base fonctionne</p>
                    <div class="result-description">
                        <p>Tes r√©ponses : ${answers.join(', ')}</p>
                        <p>Le test simple est fonctionnel !</p>
                    </div>
                    <div class="result-actions">
                        <button class="action-btn primary" onclick="goHome()">Retour accueil</button>
                        <button class="action-btn secondary" onclick="location.reload()">Recommencer</button>
                    </div>
                </div>
            `;
            
            // Progress √† 100%
            document.querySelector('.progress-bar').style.width = '100%';
        }
        
        console.log("Script debug charg√©");
    </script>
</body>
</html>
